### 微前端简介

---

微前端是一种多个团队通过独立发布功能的方式来共同构建现代化 web 应用的技术手段及方法策略。微前端的概念来自于微服务，是指存在于浏览器中的微服务。将不同的功能按照不同的维度拆分成多个子应用，通过主应用来加载这些子应用，每个应用可以由不同的团队进行管理，并可以自主选择框架，出于实用性考虑，最好只使用一种框架。
实践中，以每个平台门户作为主应用，按照平台业务模块进行拆分，拆分出来的每个模块都是独立的子应用，都能进行独立部署、独立开发以及独立运行。原则上每个模块都可以单独使用，无需依赖于主应用（因为有些模块需要用户权限，所以可能无法单独使用）。
技术上，使用基于 single-spa 微前端框架的实现库 qiankun 构建微前端架构系统，主体部分使用 Vue 框架去搭建，也会涉及到 React、JS 原生等技术栈，从而实现把多个应用融合到一起，而每个应用又都是独立的。解耦的同时相互之间还保持关联性。

#### 什么是微前端

1. 技术栈无关
   主框架不限制接入应用的技术栈，微应用具备完全自主权。

2. 独立开发、独立部署
   微应用仓库独立，前后端可独立开发，部署完成后主框架自动完成同步更新。

3. 增量升级
   在面对各种复杂场景时，我们通常很难对一个已经存在的系统做全量的技术栈升级或重构，而微前端是一种非常好的实施渐进式重构的手段和策略。

4. 独立运行时
   每个微应用之间状态隔离，运行时状态不共享。

#### 微前端的优点

1. 在同一页面上使用多个前端框架而不用刷新页面(Vue, React, jQuery, AngularJS, Angular, Ember, 其他框架)。
2. 独立部署每一个单页面应用。新功能使用新框架，旧的单页应用不用重写可以共存。
3. 改善初始加载时间，迟加。

#### qiankun

-   经过调研后综合分析，single-spa 是目前市面上比较稳定的微前端框架，而 qiankun 是一个基于 single-spa 的微前端实现库，阿里出品，目前已在蚂蚁内部服务了超过 200+ 线上应用，在易用性及完备性上，是可以信赖的。
-   为什么不是直接使用 single-spa，而是使用它的实现库 qiankun？

    -   qiankun 支持直接解析子应用的 html 文件，无需知道 js 入口文件,就是说只需要提供子应用的 url 地址就可以了。当然，这也会带来一些缺陷。

-   qiankun 能力图：
    ![](/uploads/linhongdong/images/m_eabd0fd9d6a53c636c996d4df49c06bd_r.png)

---
